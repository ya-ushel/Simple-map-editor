{"version":3,"sources":["C:/Users/Dmitriy/WebstormProjects/FirstProject/server/..\\client\\containers\\Map\\parts\\Cell.js"],"names":["Cell","props","state","isMouseDown","x","y","tool","tools","currentItem","newArray","map","source","blocks","selectedBlock","mapActions","changedMapSource","selectedItem","push","changedMapSelect","select","selectCells","e","preventDefault","resetSelectedItems","console","log","num","serialNumber","temp","mapping","item","clickHandle","bind","moveStartHandle","selectHandle","unMoveHandle","rightClickHandle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class Cell extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = ({\r\n            isMouseDown: false,\r\n        });\r\n    }\r\n\r\n    clickHandle(x,y){\r\n        const tool = this.props.tools.currentItem;\r\n        if( tool === 'hand') {\r\n            let newArray = this.props.map.source;\r\n            newArray[x][y] = this.props.blocks.selectedBlock;\r\n            this.props.mapActions.changedMapSource(newArray);\r\n        }\r\n        if(tool === 'delete'){\r\n            let newArray = this.props.map.source;\r\n            newArray[x][y] = '';\r\n            this.props.mapActions.changedMapSource(newArray);\r\n        }\r\n        if(tool === 'select'){\r\n            let selectedItem = this.props.map.selectedItem;\r\n            selectedItem.push({x,y});\r\n            this.props.mapActions.changedMapSelect(selectedItem);\r\n        }\r\n    }\r\n\r\n    selectHandle(x,y){\r\n        const tool = this.props.tools.currentItem;\r\n        if(this.props.map.select && tool === 'hand'){\r\n            let newArray = this.props.map.source;\r\n            newArray[x][y] = this.props.blocks.selectedBlock;\r\n            this.props.mapActions.changedMapSource(newArray);\r\n        }\r\n        if(this.props.map.select && tool === 'delete'){\r\n            let newArray = this.props.map.source;\r\n            newArray[x][y] = '';\r\n            this.props.mapActions.changedMapSource(newArray);\r\n        }\r\n    }\r\n\r\n    moveStartHandle(){\r\n        const { selectCells } = this.props.mapActions;\r\n        selectCells(true);\r\n    }\r\n\r\n    unMoveHandle(){\r\n        if(this.props.map.select) {\r\n            const {selectCells} = this.props.mapActions;\r\n            selectCells(false);\r\n        }\r\n    }\r\n\r\n    rightClickHandle(e){\r\n        e.preventDefault();\r\n        if(this.props.tools.currentItem === 'select') {\r\n            this.props.mapActions.resetSelectedItems();\r\n        }\r\n        console.log(e);\r\n    }\r\n\r\n    render(){\r\n        let num = this.props.serialNumber;\r\n        let temp = 'cell ';\r\n\r\n        temp += this.props.map.mapping[num] ? this.props.map.mapping[num] : '';\r\n\r\n        this.props.map.selectedItem.map((item)=>{\r\n            if(item.x === this.props.x && item.y === this.props.y)\r\n                temp += 'selected';\r\n        });\r\n\r\n        return (\r\n            <div\r\n                className={temp}\r\n                onClick={this.clickHandle.bind(this, this.props.x, this.props.y)}\r\n                onMouseDown={this.moveStartHandle.bind(this)}\r\n                onMouseMove={this.selectHandle.bind(this, this.props.x, this.props.y)}\r\n                onMouseUp={this.unMoveHandle.bind(this)}\r\n                onContextMenu={this.rightClickHandle.bind(this)}\r\n            >\r\n\r\n            </div>\r\n        );\r\n    }\r\n}"]}