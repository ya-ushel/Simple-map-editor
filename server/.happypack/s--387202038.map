{"version":3,"sources":["C:/Users/Dmitriy/WebstormProjects/FirstProject/server/..\\client\\containers\\Map\\Map.js"],"names":["mapActions","Map","props","clientWidth","document","documentElement","clientHeight","initMapping","state","countColumn","Math","ceil","countRows","gridArray","test","window","addEventListener","forceUpdate","setState","createGridArray","rows","column","array","i","j","initMap","width","floor","height","updateMapSize","map","tools","blocks","mapStateToProps","mapReducer","toolsReducer","blocksReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport * as mapActions from '../../actions/mapActions';\r\nimport React, {Component} from 'react';\r\nimport Grid from './parts/Grid';\r\n\r\n\r\nclass Map extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let clientWidth = document.documentElement.clientWidth;\r\n        let clientHeight = document.documentElement.clientHeight;\r\n\r\n        let {initMapping} = props.mapActions;\r\n        initMapping({\r\n            '1': 'grass1_1',\r\n            '2': 'grass2_1 ',\r\n            '3': 'grass2_2 ',\r\n            '4': 'grass04_01 ',\r\n            '5': 'grass05_01 ',\r\n            '6': 'grass05_02 ',\r\n            '7': 'grass06_01 ',\r\n            '8': 'grass06_02 ',\r\n            '9': 'grass06_03 ',\r\n            '10': 'grass06_04 ',\r\n            '11': 'grass07_01 ',\r\n            '12': 'grass08_01 ',\r\n            '13': 'grass08_02 ',\r\n            '14': 'grass09_01 ',\r\n            '15': 'grass09_02 ',\r\n            '16': 'grass10_01 ',\r\n            '17': 'grass10_02 ',\r\n            '18': 'grass11_01 ',\r\n            '19': 'grass12_01 ',\r\n            '20': 'grass12_02 ',\r\n            '21': 'grass12_03 ',\r\n            '22': 'grass12_04 ',\r\n            '23': 'grass13_01 ',\r\n            '24': 'grass13_02 ',\r\n            '25': 'grass13_03 ',\r\n            '26': 'grass13_04 ',\r\n            '27': 'grass14_01 ',\r\n            '28': 'grass14_02 ',\r\n            '29': 'grass14_03 ',\r\n            '30': 'grass14_04 ',\r\n            '31': 'grass15_01 ',\r\n            '32': 'grass16_01 ',\r\n            '33': 'grass3_1 ',\r\n        });\r\n\r\n        this.state = {\r\n            countColumn: Math.ceil(clientWidth / 50),\r\n            countRows: Math.ceil(clientHeight / 50),\r\n            gridArray: [],\r\n            test: false,\r\n\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', () => this.forceUpdate())\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            gridArray: this.createGridArray(),\r\n        });\r\n    }\r\n\r\n    createGridArray(rows = this.state.countRows, column = this.state.countColumn) {\r\n        let array = [];\r\n        for (let i = 0; i < rows; i++) {\r\n            array[i] = [];\r\n            for (let j = 0; j < column; j++) {\r\n\r\n            }\r\n        }\r\n        const {initMap} = this.props.mapActions;\r\n        initMap(array, this.state.countColumn, this.state.countRows);\r\n        return array;\r\n    }\r\n\r\n\r\n    forceUpdate() {\r\n\r\n        const width = Math.floor(document.documentElement.clientWidth / 50);\r\n        const height = Math.floor(document.documentElement.clientHeight / 50);\r\n\r\n        if (width !== this.state.countColumn || height !== this.state.countRows) {\r\n            this.setState({\r\n                countColumn: width,\r\n                countRows: height,\r\n            });\r\n\r\n            const {updateMapSize} = this.props.mapActions;\r\n            updateMapSize(width, height);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const map = this.props.map;\r\n        return (\r\n            <div className=\"map\">\r\n                <Grid\r\n                    map={map}\r\n                    mapActions={this.props.mapActions}\r\n                    tools={this.props.tools}\r\n                    blocks={this.props.blocks}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        map: state.mapReducer,\r\n        tools: state.toolsReducer,\r\n        blocks: state.blocksReducer,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        mapActions: bindActionCreators(mapActions, dispatch)\r\n    };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Map);"]}