{"version":3,"sources":["C:/Users/Dmitriy/WebstormProjects/FirstProject/server/..\\client\\containers\\Map\\parts\\Cell.js"],"names":["Cell","props","state","isMouseDown","x","y","tool","tools","currentItem","mapActions","addMapSource","blocks","selectedBlock","deleteMapSource","addSelection","map","select","selectCells","e","preventDefault","resetSelections","num","serialNumber","className","mapping","selectedItem","item","console","log","clickHandle","bind","moveStartHandle","selectHandle","unMoveHandle","rightClickHandle"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nexport default class Cell extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = ({\r\n            isMouseDown: false,\r\n        });\r\n    }\r\n\r\n    clickHandle(x, y) {\r\n        const tool = this.props.tools.currentItem;\r\n        if (tool === 'hand') {\r\n            this.props.mapActions.addMapSource(this.props.blocks.selectedBlock, x, y);\r\n        }\r\n        if (tool === 'delete') {\r\n            this.props.mapActions.deleteMapSource(x, y);\r\n        }\r\n        if (tool === 'select') {\r\n            this.props.mapActions.addSelection(x,y);\r\n        }\r\n    }\r\n\r\n    selectHandle(x, y) {\r\n        const tool = this.props.tools.currentItem;\r\n        if (this.props.map.select && tool === 'hand') {\r\n            this.props.mapActions.addMapSource(this.props.blocks.selectedBlock, x, y);\r\n        }\r\n        if (this.props.map.select && tool === 'delete') {\r\n            this.props.mapActions.deleteMapSource(x, y);\r\n        }\r\n    }\r\n\r\n    moveStartHandle() {\r\n        const {selectCells} = this.props.mapActions;\r\n        selectCells(true);\r\n    }\r\n\r\n    unMoveHandle() {\r\n        if (this.props.map.select) {\r\n            const {selectCells} = this.props.mapActions;\r\n            selectCells(false);\r\n        }\r\n    }\r\n\r\n    rightClickHandle(e) {\r\n        e.preventDefault();\r\n        if (this.props.tools.currentItem === 'select') {\r\n            this.props.mapActions.resetSelections();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let num = this.props.serialNumber;\r\n        let className = 'cell ';\r\n\r\n        className += this.props.map.mapping.blocks[num] ? this.props.map.mapping.blocks[num] : '';\r\n        this.props.map.selectedItem.map((item) => {\r\n            if (item.x === this.props.x && item.y === this.props.y)\r\n                className += 'selected';\r\n        });\r\n        console.log(num,'RENDER');\r\n        return (\r\n            <div\r\n                className={className}\r\n                onClick={this.clickHandle.bind(this, this.props.x, this.props.y)}\r\n                onMouseDown={this.moveStartHandle.bind(this)}\r\n                onMouseMove={this.selectHandle.bind(this, this.props.x, this.props.y)}\r\n                onMouseUp={this.unMoveHandle.bind(this)}\r\n                onContextMenu={this.rightClickHandle.bind(this)}\r\n            >\r\n\r\n            </div>\r\n        );\r\n    }\r\n}"]}