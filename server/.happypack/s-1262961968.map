{"version":3,"sources":["C:/Users/Dmitriy/WebstormProjects/FirstProject/server/..\\client\\containers\\Blocks\\Blocks.js"],"names":["blocksActions","toolsActions","LeftNavButton","props","onClick","RightNavButton","Blocks","initBlocks","arrayBlocks","i","state","num","setSelectedBlock","newArray","map","source","width","height","j","selectedItem","mapActions","setSelectedArea","settings","dots","infinite","draggable","speed","slidesToShow","slidesToScroll","variableWidth","className","prevArrow","nextArrow","sliderContent","blocks","item","temp","mapping","selectedBlock","push","selectBlockHandle","bind","length","mapStateToProps","blocksReducer","mapReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Slider from 'react-slick';\r\nimport {connect} from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as blocksActions from '../../actions/blocksActions';\r\nimport * as toolsActions from '../../actions/toolsActions';\r\n\r\nclass LeftNavButton extends Component {\r\n    render() {\r\n        return <div onClick={this.props.onClick} className=\"prevArrow\">{'<'}</div>\r\n    }\r\n}\r\nclass RightNavButton extends Component {\r\n    render() {\r\n        return <div onClick={this.props.onClick} className=\"prevArrow\">{'>'}</div>\r\n    }\r\n}\r\n\r\nclass Blocks extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        const { initBlocks } = props.blocksActions;\r\n        let arrayBlocks = [];\r\n        for(let i = 0;i<25;i++){\r\n            arrayBlocks[i] = i;\r\n        }\r\n        initBlocks(arrayBlocks);\r\n\r\n        this.state = {\r\n\r\n        };\r\n\r\n    }\r\n\r\n    selectBlockHandle(num){\r\n        this.props.blocksActions.setSelectedBlock(num);\r\n        let newArray = this.props.map.source;\r\n        const width = this.props.map.width;\r\n        const height = this.props.map.height;\r\n        for(let i = 0;i < height;i++){\r\n            for(let j = 0;j < width;j++){\r\n                if(this.props.map.selectedItem[i][j] === 1)\r\n                    newArray[i][j] = num;\r\n            }\r\n        }\r\n        this.props.mapActions.setSelectedArea(newArray);\r\n    }\r\n\r\n    render(){\r\n\r\n        let settings = {\r\n            dots: false,\r\n            infinite: true,\r\n            draggable: false,\r\n            speed: 500,\r\n            slidesToShow: 10,\r\n            slidesToScroll: 2,\r\n            variableWidth: true,\r\n            className: 'blocksCarousel',\r\n            prevArrow:<LeftNavButton/>,\r\n            nextArrow: <RightNavButton/>,\r\n        };\r\n\r\n        let sliderContent = [];\r\n        this.props.blocks.blocks.map( (item,i)=>{\r\n            let temp = this.props.map.mapping[i];\r\n            if(this.props.blocks.selectedBlock === item)\r\n                temp += ' selected';\r\n            temp += ' block';\r\n\r\n            sliderContent.push(\r\n                <div\r\n                    className={temp}\r\n                    key={i}\r\n                    onClick={this.selectBlockHandle.bind(this,i)}\r\n                >{+item}</div>);\r\n        });\r\n        if(!sliderContent.length){\r\n            sliderContent = (<div className=\"block\">Loading...</div>);\r\n        }\r\n\r\n        return(\r\n            <div className=\"blocks\">\r\n                <div className=\"blocksContainer\">\r\n                    <Slider {...settings} style=\"display: flex;\">\r\n                        {sliderContent}\r\n                    </Slider>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        blocks: state.blocksReducer,\r\n        map: state.mapReducer,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return{\r\n        blocksActions: bindActionCreators(blocksActions, dispatch),\r\n        toolsActions: bindActionCreators(toolsActions, dispatch),\r\n    };\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Blocks);"]}